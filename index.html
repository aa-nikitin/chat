<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Чат</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.10/handlebars.js"></script>
    </head>
    <body>
        <style>
            .chat-user_cursor-pointer {
                cursor: pointer;
            }
            .chat-load-photo__photo {
                color: #c4c4c4;
            }
            .chat-load-photo__photo:before {
                display: none;
            }
        </style>
        <div id="popupWindow" class="chat-popup">
            <div id="loginForm" class="chat-popup__box">
                <div class="chat-popup__head">Авторизация</div>
                <div class="chat-popup__body">
                    <div class="chat-form">
                        <div class="chat-form__field">
                            <input id="loginFormName" class="chat-form__input" type="text" data-name="name" placeholder="ФИО">
                        </div>
                        <div class="chat-form__field">
                            <input id="loginFormNik" class="chat-form__input" type="text" data-name="nik" placeholder="Ник">
                        </div>
                    </div>
                    <div class="chat-popup__buttons">
                        <div id='enterChat' class="chat-popup__button button">Войти</div>
                    </div>
                </div>
            </div>
            <div id="loadPhoto" class="chat-popup__box">
                <div class="chat-popup__head">Загрузка фото</div>
                <div class="chat-popup__body">
                    <div class="chat-load-photo">
                        <div id="loadPhotoUser" draggable="false" class="chat-load-photo__photo">
                            перетащите сюда фото
                        </div>
                    </div>
                    <div class="chat-popup__buttons">
                        <div id="loadPhotoCancel" class="chat-popup__button button">Отмена</div>
                        <div id="loadPhotoOnServer" class="chat-popup__button button">Загрузить</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="chat">
            <div class="substrate">
                <div class="substrate__left"></div>
                <div class="substrate__right"></div>
            </div>
            <div class="container chat__container">
                <div class="row chat__row">
                    <div class="col-sm-3 chat__left">
                        <div class="chat__user-settings">
                            <a id="chatExit" class="chat__exit"></a>
                        </div>
                        <div class="chat__user chat-user"><a class="chat-user__photo chat-user_cursor-pointer"> <img id="userPhoto" class="chat-user__img" src="src/photo/no-photo.png" alt=""></a>
                            <div class="chat-user__descr"> 
                            <div id="myName" class="chat-user__name chat-user_name_big chat-user_color_white">
                                Добро пожаловать!!!</div>
                            </div>
                        </div>
                        <div class="chat__participants participants">
                            <div class="participants__head">
                            Онлайн<span id="usersCount" class="participants__count">0</span></div>
                            <ul id="usersList" class="participants__list">
                                
                            </ul>
                        </div>
                    </div>
                    <div class="col-sm-9 chat__right">
                        <div class="chat__dialog-window dialog-window">
                            <div id="messageContainer" class="dialog-window__top">
                                <div id="messageList" class="chat-users">

                                </div>
                            </div>
                            <div class="dialog-window__bottom">
                                <div class="typing-message" id="typingMessage"></div>
                                <div class="leave-message">
                                    <div class="leave-message__message-box">
                                        <input id='textMessage' data-name="text" class="leave-message__input" type="text" placeholder="Введите сообщение">
                                    </div>
                                    <div class="leave-message__button-box">
                                        <div id='sendMessage' class="leave-message__button button">Отправить</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> 

        <script id="tmp-users" type="text/x-handlebars-template">
            {{#each items}}
            <li id='{{idUser}}' class="participants__item">{{nameUser}}</li>
            {{/each}}
        </script>

        <script id="tmp-message" type="text/x-handlebars-template">
            <div class="chat-users__item chat-user">
                <div class="chat-user__photo"> <img class="chat-user__img" src="{{photo}}" alt=""></div>
                <div class="chat-user__descr"> 
                    <div class="chat-user__name">{{from}}<span class="chat-user__time">{{time}}</span></div>
                    <div class="chat-user__message">{{data.text}}</div>
                </div>
            </div>
        </script>
 
    </body>
</html>
